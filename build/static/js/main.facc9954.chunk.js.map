{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","PersonService.js","App.js","index.js"],"names":["Filter","_ref","searchTerm","handleSearchChange","React","createElement","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Persons","persons","deletePerson","map","person","key","id","name","number","onClick","baseUrl","PersonService","axios","get","then","response","data","newPerson","post","delete","concat","updatedPerson","put","App","_useState","useState","_useState2","_slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchTerm","_useState9","_useState10","notification","setNotification","useEffect","personService","initialPersons","showNotification","message","setTimeout","filteredPersons","filter","toLowerCase","includes","className","event","target","preventDefault","personExists","find","window","confirm","_objectSpread","catch","error","console","log","createdPerson","_toConsumableArray","personToDelete","rootElement","document","getElementById","PORT","process","ReactDOM","createRoot","render"],"mappings":"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","file":"static/js/main.facc9954.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ searchTerm, handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with: <input value={searchTerm} onChange={handleSearchChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, handleNameChange, handleNumberChange, addPerson }) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ persons, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {persons.map((person) => (\r\n        <div key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => deletePerson(person.id)}>delete</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n  return axios.post(baseUrl, newPerson).then((response) => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, updatedPerson) => {\r\n  return axios.put(`${baseUrl}/${id}`, updatedPerson).then((response) => response.data)\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update,\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personService from './PersonService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  const showNotification = (message) => {\n    setNotification(message)\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000) // Clear the notification after 5 seconds\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n  \n    const personExists = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    )\n  \n    if (personExists) {\n      const confirmUpdate = window.confirm(\n        `${newName} is already added to the phonebook. Replace the old number with a new one?`\n      )\n  \n      if (confirmUpdate) {\n        const updatedPerson = { ...personExists, number: newNumber }\n  \n        personService\n          .update(personExists.id, updatedPerson)\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === updatedPerson.id ? updatedPerson : person\n              )\n            )\n            setNewName('')\n            setNewNumber('')\n            showNotification(`${updatedPerson.name}'s number updated successfully.`, 'success')\n          })\n          .catch((error) => {\n            showNotification(`Error updating ${personExists.name}'s number: ${error.message}`, 'error')\n            console.log(error.response.data.error)\n          })\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber }\n  \n      personService\n        .create(newPerson)\n        .then((createdPerson) => {\n          setPersons([...persons, createdPerson])\n          setNewName('')\n          setNewNumber('')\n          showNotification(`${createdPerson.name} added successfully.`, 'success')\n        })\n        .catch((error) => {\n          showNotification(`Error adding ${newPerson.name}: ${error.message}`, 'error')\n          console.log(error.response.data.error)\n        })\n    }\n  }\n  \n  const deletePerson = (id) => {\n    const personToDelete = persons.find((person) => person.id === id)\n  \n    if (window.confirm(`Delete ${personToDelete.name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id))\n          showNotification(`${personToDelete.name} deleted successfully.`, 'success')\n        })\n        .catch((error) => {\n          showNotification(`Error deleting ${personToDelete.name}: ${error.message}`, 'error')\n          console.log(error.response.data.error)\n        })\n    }\n  }\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(searchTerm.toLowerCase())\n  )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      {notification && <div className=\"notification\">{notification}</div>}\n\n      <Filter searchTerm={searchTerm} handleSearchChange={handleSearchChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\n\nconst PORT = process.env.PORT || 3001;\n\nReactDOM.createRoot(rootElement).render(<App />);\n\nconsole.log(`Server running on port ${PORT}`);"],"sourceRoot":""}